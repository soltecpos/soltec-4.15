<?xml version="1.0" encoding="UTF-8"?>
<!-- 
SmartPOS - Alejandro Camargo @ 2017
 -->

<output>

<display>
	<line><text align="left" length="10">Total</text><text align="right" length="10">${ticket.printTotal()}</text></line>
	<line><text align="center" length="20">Gracias por su compra!</text></line>
</display>

<ticket>
        	<image>Printer.Ticket.Logo</image>
	<line></line>
	<line><text align ="left" length="83" bold="true">LOS COMBOS DEL ESTABLO SABOR AL 100% S.A.S</text><text align ="right" length="25" bold="true">FACTURA DE VENTA</text></line>
	<line><text align ="left" length="83" bold="true">N.I.T. 901088462 - 6</text><text align ="right" length="20" bold="true">NO. </text>
			#if (${ticket.ticketType} == 0)
		<text bold="true" align ="right" length="5">${ticket.printId()}</text>
	#end

	#if (${ticket.ticketType} == 1)
		<text bold="true" align ="right" length="5">${ticket.printId()}</text>
	#end
	</line>

	<line><text align ="left" length="63">Calle 25d No. 85b - 14</text><text align ="right" length="45">Resol. Dian No. 18762005790062</text></line>
	<line><text align ="left" length="63">Bogotá D.C Colombia</text><text align ="right" length="45">Fecha de Expedición 2017/11/22</text></line>
	<line><text align="left" length="15">Fecha:</text><text length="48">${ticket.printDate()}</text><text align ="right" length="45">Modalidad Papel, Prefijo C - 1 a 1000</text></line>
	<line><text align="left" length="15">#if ($ticket.getCustomer())Cliente:#end</text><text length="48">#if ($ticket.getCustomer())${ticket.getCustomer().printName()}#end</text><text align ="right" length="45">Somos Agentes Retenedores de IVA</text></line>
	<line><text align="left" length="15">#if ($ticket.getCustomer())CC/NIT:#end</text><text length="48">#if ($ticket.getCustomer())${ticket.getCustomer().printTaxid()}#end</text><text align ="right" length="45">Actividad Económica 5611</text></line>
	<line><text align="left" length="15">#if ($ticket.getCustomer())Deuda Actual:#end</text><text length="48">#if ($ticket.getCustomer())${ticket.getCustomer().printCurDebt()}#end</text><text align ="right" length="45">Moneda: Pesos Col.</text></line>
	<!-- <line><text align="left" length="15">Atendido por:</text><text>${ticket.printUser()}</text></line> -->
	#if (${tickettext.place} != ${place})
		<line><text align="left" length="15">Mesa:</text><text>${place}</text></line>
	#end
<line></line>
		<line><text align ="left" length="68" bold="true">Descripción</text><text align ="right" length="15" bold="true">Valor Uni.</text><text align ="right" length="10" bold="true">Cant</text><text align ="right" length="15" bold="true">Valor</text></line>
		<line><text align="left" length="108">------------------------------------------------------------------------------------------------------------</text></line>

#foreach ($ticketline in $ticket.getLines())
	<line>
	
	#if ($ticketline.isProductCom())
		<text align ="left" length="68">*${ticketline.printName()}</text>
	#else
		<text align ="left" length="68">${ticketline.printName()}</text>
	#end
		<text align ="right" length="15">${ticketline.printPriceTax()}</text>
		<text align ="right" length="10">x${ticketline.printMultiply()}</text>
		<text align ="right" length="15">${ticketline.printValue()}</text>
	</line>

            <!-- un-comment line below if you want to add a product's properties -->
            <!-- <line><text align ="left" length="42">${ticketline.getProperty("ingredients", "")}</text> </line> -->

            <!-- un-comment line below if you want to add a user input sales line's Note -->
            <!-- <line><text align ="left" length="42">${ticketline.getProperty("notes", "")}</text> </line> -->              

	#if ($ticketline.productAttSetInstId)
		<line><text align ="left" length="42">${ticketline.productAttSetInstDesc}</text></line>
	#end
#end
	<line><text align="left" length="108">------------------------------------------------------------------------------------------------------------</text></line>
		<line></line>
	<line><text align="left" length="22" bold="true">Cant de Items:</text><text align ="right" length="20">${ticket.printArticlesCount()}</text></line>

#foreach ($paymentline in $ticket.payments)

	#if ($paymentline.name == "cash")

	       	    <!-- <line><text align="left" length="22" bold="true">Efectivo:</text><text align ="right" length="20">${paymentline.printTendered()}</text></line> -->
	        <line><text align="left" length="22">Cambio:</text><text align ="right" length="20">${paymentline.printChange()}</text></line>
	#end
          	
	#if ($paymentline.name == "cashrefund")
            		<line><text bold="true">Devolución</text></line>
		<line><text align ="right" length="108">${paymentline.printTotal()}</text></line>
	#end
	
	#if ($paymentline.name == "magcard")
		<line><text bold="true">Tarjeta</text></line>
                <line> <text>Card Type</text></line>
                <line> 
                    <text>${paymentline.getCardName()}</text> 
                </line>                 
		<line><text align ="right" length="108">${paymentline.printTotal()}</text></line>
	#end

	#if ($paymentline.name == "magcardrefund")
		<line><text bold="true">Devol Tarjeta</text></line>
                <line> <text>Card Type</text></line>
                <line> 
                    <text>${paymentline.getCardName()}</text> 
                </line>                 
		<line><text align ="right" length="108">${paymentline.printTotal()}</text></line>
	#end

	#if ($paymentline.name == "cheque")
		<line></line>
		<line><text bold="true">Domicilio</text></line>
		<line><text align ="right" length="108">${paymentline.printTotal()}</text></line>
	#end

	#if ($paymentline.name == "chequerefund")
		<line></line>
		<line><text bold="true">Devol Domicilio</text></line>
		<line><text align ="right" length="108">${paymentline.printTotal()}</text></line>
	#end

	#if ($paymentline.name == "voucherin")
		<line></line>
		<line><text bold="true">Voucher</text></line>
		<line><text align ="right" length="108">${paymentline.printTotal()}</text></line>
	#end

	#if ($paymentline.name == "voucherout")
		<line></line>
		<line><text bold="true">Devol Nota deb</text></line>
		<line><text align ="right" length="108">${paymentline.printTotal()}</text></line>
	#end

	#if ($paymentline.name == "free")
		<line></line>
		<line><text bold="true">Cortesía</text></line>
		<line><text align ="right" length="108">${paymentline.printTotal()}</text></line>
	#end
	
	#if ($paymentline.name == "debt")
		<line></line>
		<line><text bold="true">Cargo a la Cuenta</text></line>
		<line><text align ="right" length="108">${paymentline.printTotal()}</text></line>
	#end
#end
	<line><text align ="left" length="16">Neto:</text><text align ="right" length="92">${ticket.printSubTotal()}</text></line>
	<line><text align ="left" length="22">IVA:</text><text align ="right" length="86">${ticket.printTax()}</text></line>
	<line></line>
	<line size="1"><text align ="left" length="16" bold="true">Total</text><text align ="right" length="92" bold="true">${ticket.printTotal()}</text></line>
<line><text align="left" length="108">Observaciones:</text></line>
<line></line>
<line><text align="left" length="108">============================================================================================================</text></line>
<line><text align="center" length="108">La presente factura cambiaria de venta, se asimila en todos sus efectos a una letra de cambio (art.774 C.C.)</text></line>
<line><text align="center" length="108">Esta factura evidencia que la mercancía ha sido entregada real y materialmente al comprador a satisfacción. </text></line>
<line></line>
<line><text align ="left" length="26" bold="true">Aceptado por:</text><text align ="right" length="82" bold="true">Facturado por:</text></line>
<line><text align ="left" length="26" bold="true"></text><text align ="right" length="82" bold="true">${ticket.printUser()}</text></line>
	

<!-- #foreach ($taxinfo in $taxes) -->
<!--        #set( $taxline = $ticket.getTaxLine($taxinfo)) -->
<!--       <line> -->
<!--            <text align ="left" length="18">${taxline.getTaxInfo()}</text> -->
<!--            <text align ="right" length="12">${taxline.printSubTotal()}</text> -->
<!--            <text align ="right" length="12">${taxline.printTax()}</text> -->
<!--        </line> -->
<!--#end -->

        <line><barcode type="CODE128">${ticket.printId()}</barcode></line> 

</ticket>

#foreach ($paymentline in $ticket.payments)
	#if ($paymentline.name == "cash")
		<opendrawer/>
	#end
	#if ($paymentline.name == "cashrefund")
		<opendrawer/>
	#end
#end

</output>